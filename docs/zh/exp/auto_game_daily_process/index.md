# ai宏脚本
录制器方式

## 由ai生成并持续优化改进的蓝图

[蓝图文档](archetypes) 基于`augment`  

## 调整记录摘要

::: details
搜集各种能活用到的第三方库而非自制轮子，基于此分析方案python实现的可行性，以及代码量，难易程度；
对方案进行适当优化调准；

你需要把方案写在蓝图文档内，并不断根据给你对话要求的调整来实时更新这份文档；
这份文档最大作用是实施时的对话，或是其他对话更新方案时能即时使用；

auto_game_daily_process其下index.md是我定义的最根本最正确的需求；

archetypes.md则是ai通过我的描述扩展优化出的初版蓝图；
现在你需要根据方案在code\auto_game_daily_process目录下进行项目代码的编写实施和测试；

使用astral-sh/uv管理而非传统pip

请更新 archetypes.md 文档中的 "3.1 核心模块设计" 部分。当前的代码示例包含了过多的实现细节（如 if/else 逻辑、print 语句、logger.info 等），这些不应该出现在架构设计文档中。

---

请按以下要求重构这部分内容：

1. **移除实现细节**：删除所有具体的代码逻辑，如条件判断、日志输出、错误处理等
2. **保留核心接口**：只展示类的主要方法名、参数和返回值
3. **添加方法文档**：在每个方法的 docstring 中提供详细的功能描述和实现指导，这样其他开发者或AI助手可以根据这些描述生成具体的实现代码
4. **突出架构设计**：重点展示模块间的关系和数据流，而不是具体实现

目标是让这个部分成为一个清晰的架构蓝图，其他人可以根据方法文档中的描述来实现具体功能，而不需要在设计文档中看到具体的代码实现。
:::

## 蓝图草稿

### 1.点击开始录制

```python
class TBS:
    ...
tbs = TBS()
```

### 2.执行点击操作
1. 录制时，鼠标点击窗口后，按a键，获得窗口句柄win_handle1，窗口的整体截图wh_spic;
2. 按c键，然后触发截图功能让用户截图spic;
    1 计算spic在wh_spic的位置，获得spic中心点位置

2.1 按d键，触发选择自己已写的函数
```python
class TbsOperate
    ...
```

### 3.保存流程持久化
使用pkl保存流程相关的信息
```python
class TbsProcess:
    ...
tbs.create(TbsOperate) -> TbsProcess
```

### 4.执行已录制的流程
```python
tbs = TBS()
tbs.do(TbsProcess)
```
